<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Title</title>
	</head>
	<body>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}
			.wrapper {
				margin: 0 auto;
				padding: 20px;
				max-width: 500px;
				width: 100%;
			}
			#key, #text {
				margin-bottom: 15px;
				padding: 10px 20px;
				display: block;
				width: 100%;
			}
			#button {
				padding: 10px;
				width: 100%;
				text-transform: uppercase;
				background-color: transparent;
				border: 1px solid black;
				cursor: pointer;
			}
			#output {
				padding: 20px 0;
			}
		</style>

		<div class="wrapper">
			<input type="text" id="key" placeholder="Keyword">
		
			<textarea name="" id="text" cols="30" rows="10" placeholder="Enter text"></textarea>
		
			<button id="button">Action</button>

			<div id="output"></div>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

		<script>
			getById('button').addEventListener('click', function() {
				handleEncrypt()
			});

			var chars = "abcdefghijklmnopqrstuvwxyz";

			function handleEncrypt() {
			    var plaintext = getById("text").value;
			    if (validate(plaintext, 'Please enter some plaintext.')) return;
			    var key = getById("key").value; 
			    var pc = /*normalize(getById("pc").value);*/ "";
			    getById("output").innerHTML = Encrypt(plaintext, key, pc);
			}

			function Encrypt(plaintext, key, pc) {
			    var klen = key.length;
			    /*if (pc == "") pc = " ";
			    while (plaintext.length % klen != 0) {
			        plaintext += pc.charAt(0);
			    }*/
			    var colLength = plaintext.length / klen;
			    var ciphertext = "";
			    k = 0;
			    for (i = 0; i < klen; i++) {
			        while (k < 26) {
			            t = key.indexOf(chars.charAt(k));
			            arrkw = key.split("");
			            arrkw[t] = "_";
			            key = arrkw.join("");
			            if (t >= 0) break;
			            else k++;
			        }
			        for (j = 0; j < colLength; j++) {
			            ciphertext += plaintext.charAt(j * klen + t);
			        }
			    }
			    return ciphertext;
			}

			function validate(text, message) {
			    if (text.length < 1) {
			        alert(message);
			    }
			}

			function getById(id) {
			    return document.getElementById(id);
			}

			function normalize(value) {
			    return value.toLowerCase().replace(/[^a-z]/g, "");
			}
		</script>
	</body>
</html>